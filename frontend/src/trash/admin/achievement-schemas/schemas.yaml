# Form schemes
AchievementSchemeAttributes:
  type: object
  properties:
    is_active:
      type: boolean
    title:
      type: string
    category_id:
      type: integer
    schema_data:
      type: string
    validation_schema_data:
      type: string
  required:
    - is_active
    - title
    - category_id
    - schema_data
    - validation_schema_data

AchievementScheme:
  allOf:
    - $ref: '../../common/jsonapi/schemas.yaml#/EntityIdentifier'
    - type: object
      properties:
        attributes:
          $ref: '#/AchievementSchemeAttributes'
        relationships:
          type: object
          properties:
            category:
              $ref: '../../common/jsonapi/schemas.yaml#/EntityRelationIdentifier'
          required:
            - categories
        meta:
          $ref: '../../common/jsonapi/schemas.yaml#/CreateUpdateTimeMeta'
      required:
        - attributes
        - meta

AchievementSchemeResponseBase:
  type: object
  properties:
    included:
      type: array
      items:
        $ref: '../categories/schemas.yaml#/AchievementCategory'
    meta:
      $ref: '../../common/jsonapi/schemas.yaml#/PaginationMeta'
  required:
    - included
    - meta

AchievementSchemeListResponseBody:
  allOf:
    - $ref: '#/AchievementSchemeResponseBase'
    - type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/AchievementScheme'
      required:
        - data

AchievementSchemeResponseBody:
  allOf:
    - $ref: '#/AchievementSchemeResponseBase'
    - type: object
      properties:
        data:
          $ref: '#/AchievementScheme'
      required:
        - data

AchievementSchemeRequestBody:
  type: object
  properties:
    data:
      type: object
      properties:
        type:
          type: string
          enum: ['achievement-schemas']
        attributes:
          type: object
          properties:
            is_active:
              type: integer
              enum: [0, 1]
            title:
              type: string
            category_id:
              type: integer
            schema_data:
              type: string
            validation_schema_data:
              type: string
      required:
        - type
        - attributes
  required:
    - data
